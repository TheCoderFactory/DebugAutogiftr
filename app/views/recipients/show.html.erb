<p id="notice"><%= notice %></p>

<p>
  <strong>User:</strong>
  <%= @recipient.user %>
</p>

<p>
  <strong>First name:</strong>
  <%= @recipient.first_name %>
</p>

<p>
  <strong>Last name:</strong>
  <%= @recipient.last_name %>
</p>

<p>
  <strong>Street:</strong>
  <%= @recipient.street %>
</p>

<p>
  <strong>Suburb:</strong>
  <%= @recipient.suburb %>
</p>

<p>
  <strong>Postcode:</strong>
  <%= @recipient.postcode %>
</p>

<p>
  <strong>State:</strong>
  <%= @recipient.state %>
</p>

<p>
  <strong>Country:</strong>
  <%= @recipient.country %>
</p>

<p>
  <strong>Relationship:</strong>
  <%= @recipient.relationship %>
</p>
<h3>Add an<%= 'other' if @recipient.occasions.count > 0 %> occasion</h3>
<%= simple_form_for(@occasion) do |f| %>
  <%= f.error_notification %>

    <div class="form-group">
      <%= f.input :recipient_id, as: :hidden, input_html: { class: 'form-control', value: @recipient.id } %>
    </div>
    <div class="form-group">
      <%= f.input :name, input_html: { class: 'form-control' } %>
    </div>
    <div class="form-group">
      <%= f.input :occasion_type, input_html: { class: 'form-control' } %>
    </div>
    <div class="form-group">
      <%= f.input :message, input_html: { class: 'form-control' } %>
    </div>
    <div class="form-group">
      <%= f.input :date, input_html: { class: 'form-control' } %>
    </div>

  <div class="form-group">
    <%= f.submit 'Submit', class: 'btn btn-primary' %>
  </div>
<% end %>

<hr>
<h3>Occasions</h3>
<table>
  <thead>
    <tr>
      <th>Recipient</th>
      <th>Name</th>
      <th>Occasion type</th>
      <th>Date</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @recipient.occasions.each do |occasion| %>
      <tr>
        <td><%= occasion.recipient %></td>
        <td><%= occasion.name %></td>
        <td><%= occasion.occasion_type %></td>
        <td><%= occasion.date %></td>
        <td><%= link_to 'Show', occasion %></td>
        <td><%= link_to 'Edit', edit_occasion_path(occasion) %></td>
        <td><%= link_to 'Destroy', occasion, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'Edit', edit_recipient_path(@recipient) %> |
<%= link_to 'Back', recipients_path %>
